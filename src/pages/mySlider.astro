---
import Layout from '../layouts/Layout.astro';
import icons from '../../data/icons.js';
---

<Layout title="Welcome to Astro.">

    <div class="my-container flex flex-row justify-center items-center bg-gray-700">
        <div class="track flex flex-row items-center gap-x-8">
        {
            icons.map((item, index) => (
                <div class="img-container">
                    <img src={item.src} alt="" width=100 height=100 data-key={index} />
                </div>
            ))
        }
        </div>
    </div>
</Layout>
<script>
// import icons from '../../data/icons.js';

function switchTrack () {
    const track = document.querySelector('.track')
    const iconList = document.querySelectorAll('.img-container')
    const firstElement = iconList[0]
    track?.appendChild(firstElement)
}
setInterval(() => {
    switchTrack()
}, 2000);

</script>

<style scoped>
.my-container {
    height: 100vh;
}
.img-container {
    opacity: 0;

    &:nth-child(2), &:nth-child(4) {
        transition: all ease-in-out 1s;
        opacity: 0.3;
    }
    &:nth-child(3) {
        transition: all ease-in-out 1s;
        opacity: 1;
        scale: 1.2;
    }
}
</style>